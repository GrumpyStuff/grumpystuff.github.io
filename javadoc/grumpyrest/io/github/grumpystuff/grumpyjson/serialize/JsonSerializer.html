<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (20) on Fri Jul 26 13:09:04 CEST 2024 -->
<title>JsonSerializer (Grumpyrest Parent 0.9-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-07-26">
<meta name="description" content="declaration: package: io.github.grumpystuff.grumpyjson.serialize, interface: JsonSerializer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/JsonSerializer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.github.grumpystuff.grumpyjson.serialize</a></div>
<h1 title="Interface JsonSerializer" class="title">Interface JsonSerializer&lt;T&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type to convert</dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../builtin/BooleanConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">BooleanConverter</a></code>, <code><a href="../builtin/EnumConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">EnumConverter</a></code>, <code><a href="../builtin/helper_types/FieldMustBeNullConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin.helper_types">FieldMustBeNullConverter</a></code>, <code><a href="../builtin/helper_types/IgnoredFieldConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin.helper_types">IgnoredFieldConverter</a></code>, <code><a href="../builtin/IntegerConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">IntegerConverter</a></code>, <code><a href="../builtin/JsonElementConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">JsonElementConverter</a></code>, <code><a href="../builtin/ListConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">ListConverter</a></code>, <code><a href="../builtin/LocalDateConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">LocalDateConverter</a></code>, <code><a href="../builtin/LocalDateTimeConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">LocalDateTimeConverter</a></code>, <code><a href="../builtin/LocalTimeConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">LocalTimeConverter</a></code>, <code><a href="../builtin/LongConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">LongConverter</a></code>, <code><a href="../builtin/MapConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">MapConverter</a></code>, <code><a href="../builtin/helper_types/NullableFieldConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin.helper_types">NullableFieldConverter</a></code>, <code><a href="../builtin/helper_types/OptionalFieldConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin.helper_types">OptionalFieldConverter</a></code>, <code><a href="../builtin/record/RecordConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin.record">RecordConverter</a></code>, <code><a href="../builtin/StringConverter.html" title="class in io.github.grumpystuff.grumpyjson.builtin">StringConverter</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">JsonSerializer&lt;T&gt;</span></div>
<div class="block">Defines the conversion of Java objects to JSON for one or more classes.
 <p>
 The JSON side is represented by <a href="../json_model/JsonElement.html" title="class in io.github.grumpystuff.grumpyjson.json_model"><code>JsonElement</code></a>. That is, generating the JSON syntax is out-of-scope
 for this interface. Only mapping the higher-level structure is done here.
 <p>
 Serialization is always based on the run-time class of the values to serialize. While static type information is
 usually available, this is not always the case (e.g. for top-level values) and we want to avoid a mix of both
 approaches to reduce complexity.
 <p>
 There is currently no precedence rule for serializers based on specificity: If one serializer supports superclass A,
 and a second one supports subclass B extends A, then for an instance of B, the second one does NOT take precedence
 just because it is more specific. Instead, the registry will select the serializer that was registered later.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../json_model/JsonElement.html" title="class in io.github.grumpystuff.grumpyjson.json_model">JsonElement</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#serialize(T)" class="member-name-link">serialize</a><wbr>(<a href="JsonSerializer.html" title="type parameter in JsonSerializer">T</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Converts a value to JSON.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../json_model/JsonElement.html" title="class in io.github.grumpystuff.grumpyjson.json_model">JsonElement</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#serializeOptional(T)" class="member-name-link">serializeOptional</a><wbr>(<a href="JsonSerializer.html" title="type parameter in JsonSerializer">T</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Converts a value to JSON in a context in which a non-existing JSON value can be handled, and therefore
 supports values that turn out to vanish during serialization, such as <a href="../builtin/helper_types/OptionalField.html" title="class in io.github.grumpystuff.grumpyjson.builtin.helper_types"><code>OptionalField</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#supportsClassForSerialization(java.lang.Class)" class="member-name-link">supportsClassForSerialization</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;clazz)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Checks if this serializer supports the specified class.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="supportsClassForSerialization(java.lang.Class)">
<h3>supportsClassForSerialization</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">supportsClassForSerialization</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;clazz)</span></div>
<div class="block">Checks if this serializer supports the specified class.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clazz</code> - the class to check</dd>
<dt>Returns:</dt>
<dd>true if supported, false if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="serialize(T)">
<h3 id="serialize(java.lang.Object)">serialize</h3>
<div class="member-signature"><span class="return-type"><a href="../json_model/JsonElement.html" title="class in io.github.grumpystuff.grumpyjson.json_model">JsonElement</a></span>&nbsp;<span class="element-name">serialize</span><wbr><span class="parameters">(<a href="JsonSerializer.html" title="type parameter in JsonSerializer">T</a>&nbsp;value)</span>
               throws <span class="exceptions"><a href="JsonSerializationException.html" title="class in io.github.grumpystuff.grumpyjson.serialize">JsonSerializationException</a></span></div>
<div class="block">Converts a value to JSON.
 <p>
 This method must not be called with values for whose class <a href="#supportsClassForSerialization(java.lang.Class)"><code>supportsClassForSerialization(Class)</code></a> returns
 false. Calling it with such values anyway results in undefined behavior.
 <p>
 This method is not supported for values that can vanish during serialization, such as <a href="../builtin/helper_types/OptionalField.html" title="class in io.github.grumpystuff.grumpyjson.builtin.helper_types"><code>OptionalField</code></a> --
 <a href="#serializeOptional(T)"><code>serializeOptional(Object)</code></a> should be called instead. If this method is called with such values anyway,
 it should always fail, even when the value does not vanish, to capture bugs early. Examples where this happens:
 - in a list of OptionalFields. While we could simply remove vanishing elements, doing so is just a weird way
   of filtering the list before serialization, which can be done the usual way. Moreover, there is no
   useful interpretation of a list-of-OptionalField during deserialization since all elements found in the JSON
   are known to be present, and vanishing elements cannot be found.
 - when turning a top-level OptionalField to JSON
 - when nesting two OptionalFields</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>value</code> - the value to convert to JSON</dd>
<dt>Returns:</dt>
<dd>the generated JSON</dd>
<dt>Throws:</dt>
<dd><code><a href="JsonSerializationException.html" title="class in io.github.grumpystuff.grumpyjson.serialize">JsonSerializationException</a></code> - if the value is in an inconsistent state, or in a state that cannot be
 converted to JSON</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="serializeOptional(T)">
<h3 id="serializeOptional(java.lang.Object)">serializeOptional</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../json_model/JsonElement.html" title="class in io.github.grumpystuff.grumpyjson.json_model">JsonElement</a>&gt;</span>&nbsp;<span class="element-name">serializeOptional</span><wbr><span class="parameters">(<a href="JsonSerializer.html" title="type parameter in JsonSerializer">T</a>&nbsp;value)</span>
                                         throws <span class="exceptions"><a href="JsonSerializationException.html" title="class in io.github.grumpystuff.grumpyjson.serialize">JsonSerializationException</a></span></div>
<div class="block">Converts a value to JSON in a context in which a non-existing JSON value can be handled, and therefore
 supports values that turn out to vanish during serialization, such as <a href="../builtin/helper_types/OptionalField.html" title="class in io.github.grumpystuff.grumpyjson.builtin.helper_types"><code>OptionalField</code></a>. The primary use
 case is for optional object properties.
 <p>
 Most types cannot vanish, and therefore have no special behavior in a context that supports vanishable values,
 so the standard implementation just delegates to <a href="#serialize(T)"><code>serialize(Object)</code></a>.
 <p>
 This method must not be called with values for whose class <a href="#supportsClassForSerialization(java.lang.Class)"><code>supportsClassForSerialization(Class)</code></a> returns
 false. Calling it with such values anyway results in undefined behavior.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>value</code> - the value to convert to JSON. This value is not allowed to be null; "optional" refers to the fact
              that serialization happens in a context in which the field can vanish in JSON based on the value to
              serialize, not that the input value is optional.</dd>
<dt>Returns:</dt>
<dd>the generated JSON, or nothing in case the value vanishes in JSON</dd>
<dt>Throws:</dt>
<dd><code><a href="JsonSerializationException.html" title="class in io.github.grumpystuff.grumpyjson.serialize">JsonSerializationException</a></code> - if the value is in an inconsistent state, or in a state that cannot be
 converted to JSON</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
